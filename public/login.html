<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>دخول المدير</title>
  <style>
    body { font-family: Tahoma, Arial; direction: rtl; background:#f4f6f9; text-align:center; }
    .box { margin: 30px auto; width: 320px; padding:20px; background:#fff; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1); }
    input { width:90%; margin:8px 0; padding:10px; border:1px solid #ccc; border-radius:6px; }
    button { width:95%; margin-top:10px; padding:10px; border:none; border-radius:6px; font-size:15px; color:#fff; background:linear-gradient(90deg,#6f42c1,#563d7c); cursor:pointer; }
    button:hover { opacity:0.9; }
  </style>
</head>
<body>
  <h2 style="color:#333;">لوحة المدير</h2>
  <div class="box">
    <input type="text" id="username" placeholder="اسم المستخدم">
    <input type="password" id="password" placeholder="كلمة المرور">
    <button onclick="loginAdmin()">دخول</button>
  </div>
  <script>
    async function loginAdmin(){
      const username=document.getElementById("username").value;
      const password=document.getElementById("password").value;
      const res=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username,password})});
      const data=await res.json();
      if(data.token&&data.role==="admin"){localStorage.setItem("token",data.token);window.location="dashboard.html";} else alert("غير مصرح لك");
    }
  </script>
</body>
</html>
