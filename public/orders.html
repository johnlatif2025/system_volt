<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>ÿ•ÿ∂ÿßŸÅÿ© ÿ∑ŸÑÿ®</title>
  <style>
    body { 
      font-family: Tahoma, Arial; 
      direction: rtl; 
      background: #f4f6f9; 
      text-align: center; 
    }
    .container {
      max-width: 900px;
      margin: 40px auto;
      background: #fff;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    }
    h2 {
      margin-bottom: 20px;
      color: #333;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }
    input, textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
      background: #fafafa;
      transition: 0.2s;
    }
    input:focus, textarea:focus {
      border-color: #007bff;
      outline: none;
      background: #fff;
      box-shadow: 0 0 5px rgba(0,123,255,0.3);
    }
    textarea {
      grid-column: span 2;
      resize: none;
      min-height: 80px;
    }
    button {
      grid-column: span 2;
      padding: 14px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      color: #fff;
      background: linear-gradient(90deg,#28a745,#218838);
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>ÿ•ÿ∂ÿßŸÅÿ© ÿ∑ŸÑÿ® ÿ¨ÿØŸäÿØ</h2>
    <div class="grid">
      <input type="text" id="fullName" placeholder="ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑÿ´ŸÑÿßÿ´Ÿä">
      <input type="text" id="phone1" placeholder="ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿßŸÑÿ£ŸàŸÑ">
      <input type="text" id="phone2" placeholder="ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿßŸÑÿ´ÿßŸÜŸä">
      <input type="text" id="address" placeholder="ÿßŸÑÿπŸÜŸàÿßŸÜ ÿ®ÿßŸÑÿ™ŸÅÿµŸäŸÑ">
      <input type="number" id="pieces" placeholder="ÿπÿØÿØ ÿßŸÑŸÇÿ∑ÿπ">
      <input type="text" id="size" placeholder="ÿßŸÑŸÖŸÇÿßÿ≥">
      <input type="text" id="colors" placeholder="ÿßŸÑÿ£ŸÑŸàÿßŸÜ">
      <input type="number" id="priceNoShip" placeholder="ÿßŸÑÿ≥ÿπÿ± ÿ®ÿØŸàŸÜ ÿ¥ÿ≠ŸÜ">
      <input type="number" id="shipping" placeholder="ŸÖÿµÿßÿ±ŸäŸÅ ÿßŸÑÿ¥ÿ≠ŸÜ">
      <input type="number" id="priceTotal" placeholder="ÿ≥ÿπÿ± ÿßŸÑÿ®Ÿäÿπ ÿ¥ÿßŸÖŸÑ ÿßŸÑÿπŸÖŸàŸÑÿ©">
      <input type="number" id="commission" placeholder="ÿßŸÑÿπŸÖŸàŸÑÿ©">
      <textarea id="note" placeholder="ŸÖŸÑÿ≠Ÿàÿ∏ÿ© (ŸÖŸäÿπÿßÿØ/ŸÖŸÉÿßŸÜ ÿßŸÑÿßÿ≥ÿ™ŸÑÿßŸÖ)"></textarea>
      <button onclick="addOrder()">üì¶ ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ∑ŸÑÿ®</button>
    </div>
  </div>

  <script>
    async function addOrder(){
      const token=localStorage.getItem("token"); 
      if(!token){alert("ÿ≥ÿ¨ŸëŸÑ ÿØÿÆŸàŸÑ ÿ£ŸàŸÑÿßŸã");return;}
      const order={
        fullName:fullName.value,
        phone1:phone1.value,
        phone2:phone2.value,
        address:address.value,
        pieces:pieces.value,
        size:size.value,
        colors:colors.value,
        priceNoShip:priceNoShip.value,
        shipping:shipping.value,
        priceTotal:priceTotal.value,
        commission:commission.value,
        note:note.value
      };
      const res=await fetch("/api/orders",{
        method:"POST",
        headers:{"Content-Type":"application/json","Authorization":"Bearer "+token},
        body:JSON.stringify(order)
      });
      const data=await res.json(); 
      alert(data.message||data.error);
    }
  </script>
</body>
</html>
